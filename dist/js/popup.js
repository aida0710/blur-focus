(()=>{"use strict";var n,e={574:(n,e,t)=>{t.d(e,{Z:()=>i});var r=t(81),o=t.n(r),a=t(645),s=t.n(a)()(o());s.push([n.id,"/* Blur Focus - Popup Styles */\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.popup-container {\n  width: 350px;\n  max-height: 600px;\n  overflow-y: auto;\n  padding: 16px;\n  background: #ffffff;\n}\n\n/* Header */\n.header {\n  text-align: center;\n  margin-bottom: 16px;\n  padding-bottom: 12px;\n  border-bottom: 2px solid #e0e0e0;\n}\n\n.title {\n  font-size: 24px;\n  font-weight: 600;\n  margin-bottom: 4px;\n  color: #333;\n  transition: filter 0.2s ease;\n}\n\n.status {\n  font-size: 14px;\n  color: #666;\n}\n\n/* Loading */\n.loading {\n  text-align: center;\n  padding: 20px;\n  color: #666;\n}\n\n/* Error Message */\n.error-message {\n  background: #fee;\n  border: 1px solid #fcc;\n  color: #c33;\n  padding: 8px 12px;\n  border-radius: 4px;\n  margin-bottom: 12px;\n  font-size: 13px;\n}\n\n/* Controls */\n.controls {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 16px;\n}\n\n.toggle-button {\n  padding: 12px 20px;\n  font-size: 15px;\n  font-weight: 500;\n  border: 2px solid #007bff;\n  background: #ffffff;\n  color: #007bff;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.toggle-button:hover {\n  background: #007bff;\n  color: #ffffff;\n}\n\n.toggle-button.active {\n  background: #007bff;\n  color: #ffffff;\n}\n\n.settings-button {\n  padding: 10px 16px;\n  font-size: 14px;\n  border: 1px solid #ccc;\n  background: #f8f8f8;\n  color: #333;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.settings-button:hover {\n  background: #e8e8e8;\n}\n\n/* Settings Panel */\n.settings-panel {\n  border-top: 1px solid #e0e0e0;\n  padding-top: 12px;\n  margin-top: 12px;\n}\n\n.settings-tabs {\n  display: flex;\n  gap: 4px;\n  margin-bottom: 12px;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.tab-button {\n  flex: 1;\n  padding: 8px 12px;\n  font-size: 13px;\n  border: none;\n  background: transparent;\n  color: #666;\n  cursor: pointer;\n  border-bottom: 2px solid transparent;\n  transition: all 0.2s ease;\n}\n\n.tab-button:hover {\n  color: #007bff;\n}\n\n.tab-button.active {\n  color: #007bff;\n  border-bottom-color: #007bff;\n  font-weight: 500;\n}\n\n.settings-content {\n  padding: 12px 0;\n}\n\n.setting-section {\n  margin-bottom: 12px;\n}\n\n.setting-label {\n  display: block;\n  font-size: 13px;\n  font-weight: 500;\n  color: #333;\n  margin-bottom: 8px;\n}\n\n/* Intensity Slider */\n.intensity-slider {\n  width: 100%;\n  height: 6px;\n  border-radius: 3px;\n  background: #ddd;\n  outline: none;\n  margin-bottom: 12px;\n}\n\n.intensity-slider::-webkit-slider-thumb {\n  appearance: none;\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background: #007bff;\n  cursor: pointer;\n  transition: background 0.2s ease;\n}\n\n.intensity-slider::-webkit-slider-thumb:hover {\n  background: #0056b3;\n}\n\n.intensity-slider::-moz-range-thumb {\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background: #007bff;\n  cursor: pointer;\n  border: none;\n}\n\n.intensity-preview {\n  padding: 12px;\n  background: #f8f8f8;\n  border-radius: 4px;\n  text-align: center;\n}\n\n.intensity-preview p {\n  font-size: 16px;\n  color: #333;\n  transition: filter 0.2s ease;\n}\n\n/* Element Checkboxes */\n.element-checkboxes {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 8px;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 13px;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  transition: background 0.2s ease;\n}\n\n.checkbox-label:hover {\n  background: #f8f8f8;\n}\n\n.checkbox-label input[type=\"checkbox\"] {\n  cursor: pointer;\n}\n\n.element-tag {\n  font-family: 'Courier New', monospace;\n  color: #007bff;\n}\n\n/* Site List */\n.site-input-group {\n  display: flex;\n  gap: 4px;\n  margin-bottom: 12px;\n}\n\n.site-input {\n  flex: 1;\n  padding: 8px 10px;\n  font-size: 13px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  outline: none;\n  transition: border-color 0.2s ease;\n}\n\n.site-input:focus {\n  border-color: #007bff;\n}\n\n.add-button,\n.current-site-button {\n  padding: 8px 12px;\n  font-size: 13px;\n  border: 1px solid #007bff;\n  background: #007bff;\n  color: #ffffff;\n  border-radius: 4px;\n  cursor: pointer;\n  white-space: nowrap;\n  transition: all 0.2s ease;\n}\n\n.add-button:hover,\n.current-site-button:hover {\n  background: #0056b3;\n  border-color: #0056b3;\n}\n\n.current-site-button {\n  background: #6c757d;\n  border-color: #6c757d;\n  font-size: 11px;\n}\n\n.current-site-button:hover {\n  background: #5a6268;\n  border-color: #5a6268;\n}\n\n.site-list {\n  max-height: 150px;\n  overflow-y: auto;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  padding: 8px;\n}\n\n.site-rule-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 6px 8px;\n  margin-bottom: 6px;\n  background: #f8f8f8;\n  border-radius: 4px;\n}\n\n.site-rule-item:last-child {\n  margin-bottom: 0;\n}\n\n.site-pattern {\n  font-size: 13px;\n  font-family: 'Courier New', monospace;\n  color: #333;\n}\n\n.site-pattern.disabled {\n  color: #999;\n  text-decoration: line-through;\n}\n\n.remove-button {\n  padding: 4px 10px;\n  font-size: 12px;\n  border: 1px solid #dc3545;\n  background: #ffffff;\n  color: #dc3545;\n  border-radius: 3px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.remove-button:hover {\n  background: #dc3545;\n  color: #ffffff;\n}\n\n.empty-message {\n  text-align: center;\n  color: #999;\n  font-size: 13px;\n  padding: 16px 8px;\n}\n\n/* Footer */\n.footer {\n  margin-top: 16px;\n  padding-top: 12px;\n  border-top: 1px solid #e0e0e0;\n}\n\n.info-text {\n  font-size: 12px;\n  color: #666;\n  text-align: center;\n}\n\n.settings-footer {\n  margin-top: 12px;\n  padding-top: 8px;\n  border-top: 1px solid #e0e0e0;\n}\n\n.shortcut-hint {\n  font-size: 11px;\n  color: #999;\n  text-align: center;\n}\n\n.shortcut-hint kbd {\n  display: inline-block;\n  padding: 2px 6px;\n  background: #f4f4f4;\n  border: 1px solid #ccc;\n  border-radius: 3px;\n  font-family: 'Courier New', monospace;\n  font-size: 11px;\n  margin: 0 2px;\n}\n\n/* Scrollbar */\n.popup-container::-webkit-scrollbar,\n.site-list::-webkit-scrollbar {\n  width: 8px;\n}\n\n.popup-container::-webkit-scrollbar-track,\n.site-list::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n\n.popup-container::-webkit-scrollbar-thumb,\n.site-list::-webkit-scrollbar-thumb {\n  background: #888;\n  border-radius: 4px;\n}\n\n.popup-container::-webkit-scrollbar-thumb:hover,\n.site-list::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}\n",""]);const i=s},469:(n,e,t)=>{var r=t(294),o=t(745);const a=["h1","h2","h3","h4","h5","h6","p","a","span","ul","li","label","code"],s=[],i=({onSettingsChange:n})=>{const[e,t]=(0,r.useState)(5),[o,i]=(0,r.useState)(a),[l,c]=(0,r.useState)(s),[d,p]=(0,r.useState)(""),[u,b]=(0,r.useState)("intensity");(0,r.useEffect)((()=>{chrome.storage.local.get(null,(n=>{chrome.runtime.lastError?console.error("[Blur Focus] Settings load error:",chrome.runtime.lastError):(void 0!==n.blurIntensity&&t(n.blurIntensity),n.targetElements&&i(n.targetElements),n.siteList&&c(n.siteList))}))}),[]);const m=()=>{if(!d.trim())return;const e={pattern:d.trim(),enabled:!0},t=[...l,e];c(t),p(""),n({siteList:t})};return r.createElement("div",{className:"settings-panel"},r.createElement("div",{className:"settings-tabs"},r.createElement("button",{className:"tab-button "+("intensity"===u?"active":""),onClick:()=>b("intensity")},"強度"),r.createElement("button",{className:"tab-button "+("elements"===u?"active":""),onClick:()=>b("elements")},"対象要素"),r.createElement("button",{className:"tab-button "+("sites"===u?"active":""),onClick:()=>b("sites")},"サイト")),r.createElement("div",{className:"settings-content"},"intensity"===u&&r.createElement("div",{className:"setting-section"},r.createElement("label",{className:"setting-label"},"ブラー強度: ",e,"px"),r.createElement("input",{type:"range",min:"2",max:"15",value:e,onChange:e=>{return r=Number(e.target.value),t(r),void n({blurIntensity:r});var r},className:"intensity-slider"}),r.createElement("div",{className:"intensity-preview"},r.createElement("p",{style:{filter:`blur(${e}px)`}},"プレビューテキスト"))),"elements"===u&&r.createElement("div",{className:"setting-section"},r.createElement("label",{className:"setting-label"},"ブラーを適用する要素を選択:"),r.createElement("div",{className:"element-checkboxes"},["h1","h2","h3","h4","h5","h6","p","a","span","ul","li","label","code"].map((e=>r.createElement("label",{key:e,className:"checkbox-label"},r.createElement("input",{type:"checkbox",checked:o.includes(e),onChange:()=>(e=>{const t=o.includes(e)?o.filter((n=>n!==e)):[...o,e];i(t),n({targetElements:t})})(e)}),r.createElement("span",{className:"element-tag"},"<",e,">")))))),"sites"===u&&r.createElement("div",{className:"setting-section"},r.createElement("label",{className:"setting-label"},"サイトごとの設定:"),r.createElement("div",{className:"site-input-group"},r.createElement("input",{type:"text",value:d,onChange:n=>p(n.target.value),placeholder:"例: example.com",className:"site-input",onKeyPress:n=>{"Enter"===n.key&&m()}}),r.createElement("button",{onClick:m,className:"add-button"},"追加"),r.createElement("button",{onClick:()=>{chrome.tabs.query({active:!0,currentWindow:!0},(n=>{var e;if(null===(e=n[0])||void 0===e?void 0:e.url){const e=new URL(n[0].url);p(e.hostname)}}))},className:"current-site-button"},"現在のサイト")),r.createElement("div",{className:"site-list"},0===l.length?r.createElement("p",{className:"empty-message"},"サイトルールがありません。すべてのサイトで有効です。"):l.map(((e,t)=>r.createElement("div",{key:t,className:"site-rule-item"},r.createElement("label",{className:"checkbox-label"},r.createElement("input",{type:"checkbox",checked:e.enabled,onChange:()=>(e=>{const t=[...l];t[e].enabled=!t[e].enabled,c(t),n({siteList:t})})(t)}),r.createElement("span",{className:"site-pattern "+(e.enabled?"":"disabled")},e.pattern)),r.createElement("button",{onClick:()=>(e=>{const t=l.filter(((n,t)=>t!==e));c(t),n({siteList:t})})(t),className:"remove-button"},"削除"))))))),r.createElement("div",{className:"settings-footer"},r.createElement("p",{className:"shortcut-hint"},"ショートカット: ",r.createElement("kbd",null,"Ctrl+Shift+B")," (Mac: ",r.createElement("kbd",null,"⌘+Shift+B"),")")))};var l=t(379),c=t.n(l),d=t(795),p=t.n(d),u=t(569),b=t.n(u),m=t(565),f=t.n(m),g=t(216),x=t.n(g),h=t(589),v=t.n(h),k=t(574),E={};E.styleTagTransform=v(),E.setAttributes=f(),E.insert=b().bind(null,"head"),E.domAPI=p(),E.insertStyleElement=x(),c()(k.Z,E),k.Z&&k.Z.locals&&k.Z.locals;var y=function(n,e,t,r){return new(t||(t=Promise))((function(o,a){function s(n){try{l(r.next(n))}catch(n){a(n)}}function i(n){try{l(r.throw(n))}catch(n){a(n)}}function l(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(s,i)}l((r=r.apply(n,e||[])).next())}))};(0,o.s)(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement((()=>{const[n,e]=(0,r.useState)(!1),[t,o]=(0,r.useState)(!0),[a,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null);return(0,r.useEffect)((()=>{chrome.storage.local.get(["isBlur"],(n=>{var t;if(chrome.runtime.lastError)return c("設定の読み込みに失敗しました"),console.error("[Blur Focus] Storage error:",chrome.runtime.lastError),void o(!1);e(null!==(t=n.isBlur)&&void 0!==t&&t),o(!1)}))}),[]),t?r.createElement("div",{className:"popup-container"},r.createElement("div",{className:"loading"},"読み込み中...")):r.createElement("div",{className:"popup-container"},r.createElement("div",{className:"header"},r.createElement("h1",{className:"title",style:{filter:n?"blur(5px)":"none"}},"Blur Focus"),r.createElement("p",{className:"status"},n?"ブラー有効":"ブラー無効")),l&&r.createElement("div",{className:"error-message"},l),r.createElement("div",{className:"controls"},r.createElement("button",{onClick:()=>y(void 0,void 0,void 0,(function*(){var t;const r=!n;try{e(r),yield new Promise(((n,e)=>{chrome.storage.local.set({isBlur:r},(()=>{chrome.runtime.lastError?e(chrome.runtime.lastError):n()}))}));const n=yield chrome.tabs.query({active:!0,currentWindow:!0});if(null===(t=n[0])||void 0===t?void 0:t.id){const e={action:"toggleBlur",settings:{isBlur:r}};chrome.tabs.sendMessage(n[0].id,e,(n=>{chrome.runtime.lastError&&console.log("[Blur Focus] Content script not available:",chrome.runtime.lastError.message)}))}}catch(n){c("設定の保存に失敗しました"),console.error("[Blur Focus] Toggle error:",n),e(!r)}})),className:"toggle-button "+(n?"active":"")},n?"ブラーを無効にする":"ブラーを有効にする"),r.createElement("button",{onClick:()=>s(!a),className:"settings-button"},a?"設定を閉じる":"設定を開く")),a&&r.createElement(i,{onSettingsChange:n=>y(void 0,void 0,void 0,(function*(){var e;try{yield new Promise(((e,t)=>{chrome.storage.local.set(n,(()=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e()}))}));const t=yield chrome.tabs.query({active:!0,currentWindow:!0});if(null===(e=t[0])||void 0===e?void 0:e.id){const e={action:"updateSettings",settings:n};chrome.tabs.sendMessage(t[0].id,e,(n=>{chrome.runtime.lastError&&console.log("[Blur Focus] Content script not available:",chrome.runtime.lastError.message)}))}}catch(n){c("設定の保存に失敗しました"),console.error("[Blur Focus] Settings update error:",n)}}))}),r.createElement("div",{className:"footer"},r.createElement("p",{className:"info-text"},"変更は即座に反映されます")))}),null)))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,n=[],r.O=(e,t,o,a)=>{if(!t){var s=1/0;for(d=0;d<n.length;d++){for(var[t,o,a]=n[d],i=!0,l=0;l<t.length;l++)(!1&a||s>=a)&&Object.keys(r.O).every((n=>r.O[n](t[l])))?t.splice(l--,1):(i=!1,a<s&&(s=a));if(i){n.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var d=n.length;d>0&&n[d-1][2]>a;d--)n[d]=n[d-1];n[d]=[t,o,a]},r.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return r.d(e,{a:e}),e},r.d=(n,e)=>{for(var t in e)r.o(e,t)&&!r.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},r.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n={42:0};r.O.j=e=>0===n[e];var e=(e,t)=>{var o,a,[s,i,l]=t,c=0;if(s.some((e=>0!==n[e]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(l)var d=l(r)}for(e&&e(t);c<s.length;c++)a=s[c],r.o(n,a)&&n[a]&&n[a][0](),n[a]=0;return r.O(d)},t=self.webpackChunkblur_focus=self.webpackChunkblur_focus||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})(),r.nc=void 0;var o=r.O(void 0,[736],(()=>r(469)));o=r.O(o)})();