(()=>{"use strict";var n,e={475:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([n.id,"/* Blur Focus - Popup Styles */\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.popup-container {\n  width: 350px;\n  max-height: 600px;\n  overflow-y: auto;\n  padding: 16px;\n  background: #ffffff;\n}\n\n/* Header */\n.header {\n  text-align: center;\n  margin-bottom: 16px;\n  padding-bottom: 12px;\n  border-bottom: 2px solid #e0e0e0;\n}\n\n.title {\n  font-size: 24px;\n  font-weight: 600;\n  margin-bottom: 4px;\n  color: #333;\n  transition: filter 0.2s ease;\n}\n\n.status {\n  font-size: 14px;\n  color: #666;\n}\n\n/* Loading */\n.loading {\n  text-align: center;\n  padding: 20px;\n  color: #666;\n}\n\n/* Error Message */\n.error-message {\n  background: #fee;\n  border: 1px solid #fcc;\n  color: #c33;\n  padding: 8px 12px;\n  border-radius: 4px;\n  margin-bottom: 12px;\n  font-size: 13px;\n}\n\n/* Controls */\n.controls {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 16px;\n}\n\n.toggle-button {\n  padding: 12px 20px;\n  font-size: 15px;\n  font-weight: 500;\n  border: 2px solid #007bff;\n  background: #ffffff;\n  color: #007bff;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.toggle-button:hover {\n  background: #007bff;\n  color: #ffffff;\n}\n\n.toggle-button.active {\n  background: #007bff;\n  color: #ffffff;\n}\n\n.settings-button {\n  padding: 10px 16px;\n  font-size: 14px;\n  border: 1px solid #ccc;\n  background: #f8f8f8;\n  color: #333;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.settings-button:hover {\n  background: #e8e8e8;\n}\n\n/* Settings Panel */\n.settings-panel {\n  border-top: 1px solid #e0e0e0;\n  padding-top: 12px;\n  margin-top: 12px;\n}\n\n.settings-tabs {\n  display: flex;\n  gap: 4px;\n  margin-bottom: 12px;\n  border-bottom: 1px solid #e0e0e0;\n}\n\n.tab-button {\n  flex: 1;\n  padding: 8px 12px;\n  font-size: 13px;\n  border: none;\n  background: transparent;\n  color: #666;\n  cursor: pointer;\n  border-bottom: 2px solid transparent;\n  transition: all 0.2s ease;\n}\n\n.tab-button:hover {\n  color: #007bff;\n}\n\n.tab-button.active {\n  color: #007bff;\n  border-bottom-color: #007bff;\n  font-weight: 500;\n}\n\n.settings-content {\n  padding: 12px 0;\n}\n\n.setting-section {\n  margin-bottom: 12px;\n}\n\n.setting-label {\n  display: block;\n  font-size: 13px;\n  font-weight: 500;\n  color: #333;\n  margin-bottom: 8px;\n}\n\n/* Intensity Slider */\n.intensity-slider {\n  width: 100%;\n  height: 6px;\n  border-radius: 3px;\n  background: #ddd;\n  outline: none;\n  margin-bottom: 12px;\n}\n\n.intensity-slider::-webkit-slider-thumb {\n  appearance: none;\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background: #007bff;\n  cursor: pointer;\n  transition: background 0.2s ease;\n}\n\n.intensity-slider::-webkit-slider-thumb:hover {\n  background: #0056b3;\n}\n\n.intensity-slider::-moz-range-thumb {\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  background: #007bff;\n  cursor: pointer;\n  border: none;\n}\n\n.intensity-preview {\n  padding: 12px;\n  background: #f8f8f8;\n  border-radius: 4px;\n  text-align: center;\n}\n\n.intensity-preview p {\n  font-size: 16px;\n  color: #333;\n  transition: filter 0.2s ease;\n}\n\n/* Element Checkboxes */\n.element-checkboxes {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 8px;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  font-size: 13px;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  transition: background 0.2s ease;\n}\n\n.checkbox-label:hover {\n  background: #f8f8f8;\n}\n\n.checkbox-label input[type=\"checkbox\"] {\n  cursor: pointer;\n}\n\n.element-tag {\n  font-family: 'Courier New', monospace;\n  color: #007bff;\n}\n\n/* Site List */\n.site-input-group {\n  display: flex;\n  gap: 4px;\n  margin-bottom: 12px;\n}\n\n.site-input {\n  flex: 1;\n  padding: 8px 10px;\n  font-size: 13px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  outline: none;\n  transition: border-color 0.2s ease;\n}\n\n.site-input:focus {\n  border-color: #007bff;\n}\n\n.add-button,\n.current-site-button {\n  padding: 8px 12px;\n  font-size: 13px;\n  border: 1px solid #007bff;\n  background: #007bff;\n  color: #ffffff;\n  border-radius: 4px;\n  cursor: pointer;\n  white-space: nowrap;\n  transition: all 0.2s ease;\n}\n\n.add-button:hover,\n.current-site-button:hover {\n  background: #0056b3;\n  border-color: #0056b3;\n}\n\n.current-site-button {\n  background: #6c757d;\n  border-color: #6c757d;\n  font-size: 11px;\n}\n\n.current-site-button:hover {\n  background: #5a6268;\n  border-color: #5a6268;\n}\n\n.site-list {\n  max-height: 150px;\n  overflow-y: auto;\n  border: 1px solid #e0e0e0;\n  border-radius: 4px;\n  padding: 8px;\n}\n\n.site-rule-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 6px 8px;\n  margin-bottom: 6px;\n  background: #f8f8f8;\n  border-radius: 4px;\n}\n\n.site-rule-item:last-child {\n  margin-bottom: 0;\n}\n\n.site-pattern {\n  font-size: 13px;\n  font-family: 'Courier New', monospace;\n  color: #333;\n}\n\n.site-pattern.disabled {\n  color: #999;\n  text-decoration: line-through;\n}\n\n.remove-button {\n  padding: 4px 10px;\n  font-size: 12px;\n  border: 1px solid #dc3545;\n  background: #ffffff;\n  color: #dc3545;\n  border-radius: 3px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.remove-button:hover {\n  background: #dc3545;\n  color: #ffffff;\n}\n\n.empty-message {\n  text-align: center;\n  color: #999;\n  font-size: 13px;\n  padding: 16px 8px;\n}\n\n/* Footer */\n.footer {\n  margin-top: 16px;\n  padding-top: 12px;\n  border-top: 1px solid #e0e0e0;\n}\n\n.info-text {\n  font-size: 12px;\n  color: #666;\n  text-align: center;\n}\n\n.settings-footer {\n  margin-top: 12px;\n  padding-top: 8px;\n  border-top: 1px solid #e0e0e0;\n}\n\n.shortcut-hint {\n  font-size: 11px;\n  color: #999;\n  text-align: center;\n}\n\n.shortcut-hint kbd {\n  display: inline-block;\n  padding: 2px 6px;\n  background: #f4f4f4;\n  border: 1px solid #ccc;\n  border-radius: 3px;\n  font-family: 'Courier New', monospace;\n  font-size: 11px;\n  margin: 0 2px;\n}\n\n/* Scrollbar */\n.popup-container::-webkit-scrollbar,\n.site-list::-webkit-scrollbar {\n  width: 8px;\n}\n\n.popup-container::-webkit-scrollbar-track,\n.site-list::-webkit-scrollbar-track {\n  background: #f1f1f1;\n}\n\n.popup-container::-webkit-scrollbar-thumb,\n.site-list::-webkit-scrollbar-thumb {\n  background: #888;\n  border-radius: 4px;\n}\n\n.popup-container::-webkit-scrollbar-thumb:hover,\n.site-list::-webkit-scrollbar-thumb:hover {\n  background: #555;\n}\n",""]);const s=i},189:(n,e,t)=>{var r=t(540);const o=["h1","h2","h3","h4","h5","h6","p","a","span","ul","li","label","code"],a=[],i=({blurIntensity:n,onIntensityChange:e})=>r.createElement("div",{className:"setting-section"},r.createElement("label",{className:"setting-label"},"ブラー強度: ",n,"px"),r.createElement("input",{type:"range",min:"2",max:"15",value:n,onChange:n=>e(Number(n.target.value)),className:"intensity-slider"}),r.createElement("div",{className:"intensity-preview"},r.createElement("p",{style:{filter:`blur(${n}px)`}},"プレビューテキスト"))),s=({targetElements:n,onElementToggle:e})=>r.createElement("div",{className:"setting-section"},r.createElement("label",{className:"setting-label"},"ブラーを適用する要素を選択:"),r.createElement("div",{className:"element-checkboxes"},["h1","h2","h3","h4","h5","h6","p","a","span","ul","li","label","code"].map(t=>r.createElement("label",{key:t,className:"checkbox-label"},r.createElement("input",{type:"checkbox",checked:n.includes(t),onChange:()=>e(t)}),r.createElement("span",{className:"element-tag"},"<",t,">"))))),l=({siteList:n,newSitePattern:e,onSitePatternChange:t,onAddSiteRule:o,onRemoveSiteRule:a,onToggleSiteRule:i,onAddCurrentSite:s})=>r.createElement("div",{className:"setting-section"},r.createElement("label",{className:"setting-label"},"サイトごとの設定:"),r.createElement("div",{className:"site-input-group"},r.createElement("input",{type:"text",value:e,onChange:n=>t(n.target.value),placeholder:"例: example.com",className:"site-input",onKeyDown:n=>{"Enter"===n.key&&o()}}),r.createElement("button",{onClick:o,className:"add-button"},"追加"),r.createElement("button",{onClick:s,className:"current-site-button"},"現在のサイト")),r.createElement("div",{className:"site-list"},0===n.length?r.createElement("p",{className:"empty-message"},"サイトルールがありません。すべてのサイトで有効です。"):n.map((n,e)=>r.createElement("div",{key:e,className:"site-rule-item"},r.createElement("label",{className:"checkbox-label"},r.createElement("input",{type:"checkbox",checked:n.enabled,onChange:()=>i(e)}),r.createElement("span",{className:"site-pattern "+(n.enabled?"":"disabled")},n.pattern)),r.createElement("button",{onClick:()=>a(e),className:"remove-button"},"削除"))))),c=({onSettingsChange:n})=>{const[e,t]=(0,r.useState)(5),[c,d]=(0,r.useState)(o),[u,p]=(0,r.useState)(a),[b,m]=(0,r.useState)(""),[g,f]=(0,r.useState)("intensity");return(0,r.useEffect)(()=>{chrome.storage.local.get(null,n=>{chrome.runtime.lastError?console.error("[Blur Focus] Settings load error:",chrome.runtime.lastError):(void 0!==n.blurIntensity&&t(n.blurIntensity),n.targetElements&&d(n.targetElements),n.siteList&&p(n.siteList))})},[]),r.createElement("div",{className:"settings-panel"},r.createElement("div",{className:"settings-tabs"},r.createElement("button",{className:"tab-button "+("intensity"===g?"active":""),onClick:()=>f("intensity")},"強度"),r.createElement("button",{className:"tab-button "+("elements"===g?"active":""),onClick:()=>f("elements")},"対象要素"),r.createElement("button",{className:"tab-button "+("sites"===g?"active":""),onClick:()=>f("sites")},"サイト")),r.createElement("div",{className:"settings-content"},"intensity"===g&&r.createElement(i,{blurIntensity:e,onIntensityChange:e=>{t(e),n({blurIntensity:e})}}),"elements"===g&&r.createElement(s,{targetElements:c,onElementToggle:e=>{const t=c.includes(e)?c.filter(n=>n!==e):[...c,e];d(t),n({targetElements:t})}}),"sites"===g&&r.createElement(l,{siteList:u,newSitePattern:b,onSitePatternChange:m,onAddSiteRule:()=>{if(!b.trim())return;const e={pattern:b.trim(),enabled:!0},t=[...u,e];p(t),m(""),n({siteList:t})},onRemoveSiteRule:e=>{const t=u.filter((n,t)=>t!==e);p(t),n({siteList:t})},onToggleSiteRule:e=>{const t=[...u];t[e].enabled=!t[e].enabled,p(t),n({siteList:t})},onAddCurrentSite:()=>{chrome.tabs.query({active:!0,currentWindow:!0},n=>{var e;if(null===(e=n[0])||void 0===e?void 0:e.url){const e=new URL(n[0].url);m(e.hostname)}})}})),r.createElement("div",{className:"settings-footer"},r.createElement("p",{className:"shortcut-hint"},"ショートカット: ",r.createElement("kbd",null,"Ctrl+Shift+F")," (Mac: ",r.createElement("kbd",null,"⌘+Shift+F"),")")))};var d=t(72),u=t.n(d),p=t(825),b=t.n(p),m=t(659),g=t.n(m),f=t(56),x=t.n(f),h=t(159),v=t.n(h),E=t(113),k=t.n(E),y=t(475),w={};w.styleTagTransform=k(),w.setAttributes=x(),w.insert=g().bind(null,"head"),w.domAPI=b(),w.insertStyleElement=v(),u()(y.A,w),y.A&&y.A.locals&&y.A.locals;var N=t(338),S=function(n,e,t,r){return new(t||(t=Promise))(function(o,a){function i(n){try{l(r.next(n))}catch(n){a(n)}}function s(n){try{l(r.throw(n))}catch(n){a(n)}}function l(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t(function(n){n(e)})).then(i,s)}l((r=r.apply(n,e||[])).next())})};(0,N.H)(document.getElementById("root")).render(r.createElement(r.StrictMode,null,r.createElement(()=>{const[n,e]=(0,r.useState)(!1),[t,o]=(0,r.useState)(!0),[a,i]=(0,r.useState)(null);return(0,r.useEffect)(()=>{chrome.storage.local.get(["isBlur"],n=>{var t;if(chrome.runtime.lastError)return i("設定の読み込みに失敗しました"),console.error("[Blur Focus] Storage error:",chrome.runtime.lastError),void o(!1);e(null!==(t=n.isBlur)&&void 0!==t&&t),o(!1)})},[]),t?r.createElement("div",{className:"popup-container"},r.createElement("div",{className:"loading"},"読み込み中...")):r.createElement("div",{className:"popup-container"},r.createElement("div",{className:"header"},r.createElement("h1",{className:"title",style:{filter:n?"blur(5px)":"none"}},"Blur Focus")),a&&r.createElement("div",{className:"error-message"},a),r.createElement("div",{className:"controls"},r.createElement("button",{onClick:()=>S(void 0,void 0,void 0,function*(){var t;const r=!n;try{e(r),yield new Promise((n,e)=>{chrome.storage.local.set({isBlur:r},()=>{chrome.runtime.lastError?e(chrome.runtime.lastError):n()})});const n=yield chrome.tabs.query({active:!0,currentWindow:!0});if(null===(t=n[0])||void 0===t?void 0:t.id){const e={action:"toggleBlur",settings:{isBlur:r}};chrome.tabs.sendMessage(n[0].id,e,n=>{chrome.runtime.lastError&&console.log("[Blur Focus] Content script not available:",chrome.runtime.lastError.message)})}}catch(n){i("設定の保存に失敗しました"),console.error("[Blur Focus] Toggle error:",n),e(!r)}}),className:"toggle-button "+(n?"active":"")},n?"ブラーを無効にする":"ブラーを有効にする"),r.createElement(c,{onSettingsChange:n=>S(void 0,void 0,void 0,function*(){var e;try{yield new Promise((e,t)=>{chrome.storage.local.set(n,()=>{chrome.runtime.lastError?t(chrome.runtime.lastError):e()})});const t=yield chrome.tabs.query({active:!0,currentWindow:!0});if(null===(e=t[0])||void 0===e?void 0:e.id){const e={action:"updateSettings",settings:n};chrome.tabs.sendMessage(t[0].id,e,n=>{chrome.runtime.lastError&&console.log("[Blur Focus] Content script not available:",chrome.runtime.lastError.message)})}}catch(n){i("設定の保存に失敗しました"),console.error("[Blur Focus] Settings update error:",n)}})})))},null)))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,n=[],r.O=(e,t,o,a)=>{if(!t){var i=1/0;for(d=0;d<n.length;d++){for(var[t,o,a]=n[d],s=!0,l=0;l<t.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every(n=>r.O[n](t[l]))?t.splice(l--,1):(s=!1,a<i&&(i=a));if(s){n.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var d=n.length;d>0&&n[d-1][2]>a;d--)n[d]=n[d-1];n[d]=[t,o,a]},r.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return r.d(e,{a:e}),e},r.d=(n,e)=>{for(var t in e)r.o(e,t)&&!r.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},r.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n={887:0};r.O.j=e=>0===n[e];var e=(e,t)=>{var o,a,[i,s,l]=t,c=0;if(i.some(e=>0!==n[e])){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(l)var d=l(r)}for(e&&e(t);c<i.length;c++)a=i[c],r.o(n,a)&&n[a]&&n[a][0](),n[a]=0;return r.O(d)},t=self.webpackChunkblur_focus=self.webpackChunkblur_focus||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})(),r.nc=void 0;var o=r.O(void 0,[121],()=>r(189));o=r.O(o)})();